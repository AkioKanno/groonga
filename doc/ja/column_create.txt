groonga manual(v0.1.4)
                             column_create (組込コマンド)

■名前

 column_create - カラムの追加

■書式

 column_create table name flags type [source [output_type]]

■説明

 groonga組込コマンドの一つであるcolumn_createについて説明します。組込コマンドは、
 groonga実行ファイルの引数、標準入力、またはソケット経由でgroongaサーバにリクエストを送
 信することによって実行します。

 column_createは、使用しているデータベースのテーブルに対してカラムを追加します。

■引数

 table
   カラムを追加するテーブルの名前を指定します。

 name
   作成するカラムの名前を指定します。カラム名は、テーブルの中で一意でなければなりません。
   ピリオド('.'), コロン(':')を含む名前のカラムは作成できません。また、アンダースコア
   ('_')で始まる名前は予約済みであり、使用できません。

 flags
   カラムの属性を表す以下の数値を指定します。

   0
     単一の値が格納できるカラムを作成します。
   1
     複数の値の配列を格納できるカラムを作成します。
   2
     インデックス型のカラムを作成します。

   インデックス型のカラムについては、flagsの値に以下の値を加えることによって、追加の属
   性を指定することができます。

   128
     段落情報を格納するインデックスを作成します。

   256
     ウェイト情報を格納するインデックスを作成します。

   512
     位置情報を格納するインデックス(完全転置インデックス)を作成します。

 type
   値の型を指定します。groongaの組込型か、同一データベースに定義済みのユーザ定義型、定
   義済みのテーブルを指定することができます。

 source
   インデックス型のカラムを作成した場合は、インデックス対象となるカラムをsource引数に指
   定します。

 output_type
   出力形式を、json,tsv,xmlのいずれかで指定します。(*1)

■返値

 リターンコード(*2)
   grn_rcに対応する数値が返されます。0(GRN_SUCCESS)以外の場合は、続いてエラー内容を示す
   文字列が返されます。

■例

 テーブルEntryに、ShortText型の値を格納するカラム、bodyを作成します。

   column_create Entry body --type ShortText --output_type json
   [[0]]

 テーブルTermに、Entryテーブルのbodyカラムの値を対象とする完全転置インデックス型カラム、
 entry_bodyを作成します。

   column_create Term entry_body 514 Entry body --output_type json
   [[0]]

■注意

 *1: tsv,xml出力はv1.0でサポートされます。
 *2: リターンコード出力はv1.0でサポートされます。
