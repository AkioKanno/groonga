.. highlightlang:: none

ドリルダウン
============

groongaでは、特定のカラム値で検索結果をグループ化することができます。これをドリルダウンと呼びます。

.. ドリルダウンの簡単な例を示す。(selectで、drilldownパラメータ(カラム1つ)のみ指定)

ドリルダウンを行ったテーブルに対して、カラム値を取得することもできます。ドリルダウンを行ったテーブルには、_nsubrecsという仮想的なカラムが追加されます。このカラムには、ドリルダウンされる前の検索結果に存在したレコード数が入ります。

.. ドリルダウンの簡単な例を示す。(selectで、drilldownパラメータ(カラム1つ)と、drilldown_output_columnsの指定)

複数のカラムに対して、それぞれドリルダウンを行うことができます。複数のカラムに対してドリルダウンを行う場合には、drilldownパラメータにカラム名をカンマ区切りで与えます。

.. 簡単な例を示す。(selectで、drilldownパラメータにカンマ区切りで複数のパラメータの指定)

ドリルダウン結果を並びかえることができます。例えば、_nsubrecsパラメータの降順で並び替えることができます。

.. 例を示す。(selectで、drilldownパラメータ(カラム1つ)と、drilldown_sortbyパラメータ)

ドリルダウン結果は、デフォルトでは10件のみ表示されます。drilldown_offsetパラメータと、drilldown_limitパラメータによって、offsetとlimitを指定することができます。

.. 例を示す。(selectで、drilldownパラメータ(カラム1つ)と、drilldown_offset/drilldown_limit)
