.. highlightlang:: none

add
===

名前
----

add - 一件のレコードの追加 [1]_

書式
----
::

 add table [key [columns [values [output_columns [output_type]]]]]

説明
----

groonga組込コマンドの一つであるaddについて説明します。組込コマンドは、groonga実行ファイルの引数、標準入力、またはソケット経由でgroongaサーバにリクエストを送信することによって実行します。

addは、使用しているデータベースのテーブルに１件のレコードを登録し、カラムの値を更新します。

引数
----

``table``

  レコードを追加しようとするテーブルの名前を指定します。

``key``

  登録するレコードの主キー値を指定します。主キーなしのテーブルの場合はこのパラメータを指定する必要はなく、必要された場合は無視されます。

``columns``

  テーブルに登録するレコードに値を設定するカラム名のリストを指定します。

``values``

  登録するレコードの値を表現した文字列を渡します。

  以下のいずれかの形式が使用できます。

  ``形式1``
    [カラム値1, カラム値2,..]

  ``形式2``
    {カラム名1: カラム値1, カラム名2: カラム値2}

  形式1の[カラム名1, カラム名2,..]の要素はcolumns引数が省略された場合のみ有効です。

``output_columns``

  出力するカラム名のリストを空白(' ')区切りで指定します。

``output_type``

  出力形式を、json,tsv,xmlのいずれかで指定します。

返値
---

  grn_rcに対応する数値が返されます。0(GRN_SUCCESS)以外の場合は、続いてエラー内容を示す文字列が返されます。

各レコードの値
  output_columnsよって指定された条件に従ってレコードの値が出力されます。

例
--

テーブルEntryにレコードを登録します。::

 add Entry abandon body 放棄する

 [[0],1]

関連項目
--------

:doc:`load`

.. rubric:: 脚注

.. [#] addコマンドはv1.0以降でサポートされます。

