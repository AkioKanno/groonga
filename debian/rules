#!/usr/bin/make -f
# -*- makefile-gmake -*-
#
# Uncomment this to turn on verbose mode.
#export DH_VERBOSE=1
# This has to be exported to make some magic below work.
export DH_OPTIONS

%:
	dh --with quilt $@

# override_dh_auto_configure:
#	dh_auto_configure -- --xxx=zzz

# TODO: Remove the following codes.

DEB_INSTALL_DOCS_groonga-doc =			\
	doc/ja/html				\
	doc/ja/source

DEB_INSTALL_DIRS_libgroonga =			\
	/usr/lib/groonga/plugins

DEB_INSTALL_DIRS_libgroonga-plugin-suggest =	\
	/usr/bin				\
	/usr/lib/groonga/plugins/suggest

DEB_INSTALL_DIRS_libgroonga-tokenizer-mecab =	\
	/usr/lib/groonga/plugins/tokenizers

DEB_INSTALL_DIRS_libgroonga-dev =		\
	/usr/include/groonga			\
	/usr/lib/pkgconfig

DEB_INSTALL_DIRS_groonga-munin-plugins =		\
	/usr/share/munin/plugins			\
	/etc/munin/plugin-conf.d

install/libgroonga::
	cp -ar debian/tmp/usr/lib/libgroonga* debian/libgroonga/usr/lib/

install/libgroonga-plugin-suggest::
	cp -ar debian/tmp/usr/bin/groonga-suggest-* \
	  debian/libgroonga-plugin-suggest/usr/bin/
	cp -ar debian/tmp/usr/lib/groonga/plugins/suggest \
	  debian/libgroonga-plugin-suggest/usr/lib/groonga/plugins/

install/libgroonga-tokenizer-mecab::
	cp -ar debian/tmp/usr/lib/groonga/plugins/tokenizers/mecab* \
	  debian/libgroonga-tokenizer-mecab/usr/lib/groonga/plugins/tokenizers/

install/libgroonga-dev::
	cp -ar debian/tmp/usr/include/groonga/* \
	  debian/libgroonga-dev/usr/include/groonga/
	cp -ar debian/tmp/usr/lib/pkgconfig/* \
	  debian/libgroonga-dev/usr/lib/pkgconfig/

install/groonga-munin-plugins::
	cp -ar debian/groonga-munin-plugin.conf \
	  debian/groonga-munin-plugins/etc/munin/plugin-conf.d/groonga
	cp -ar debian/tmp/usr/share/groonga/munin/plugins/* \
	  debian/groonga-munin-plugins/usr/share/munin/plugins/
