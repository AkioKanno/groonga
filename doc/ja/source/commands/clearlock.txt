.. highlightlang:: none

clearlock
=========

名前
----

clearlock - オブジェクトにセットされたロックを解除する

書式
----
::

 clearlock objname [output_type [id]]

説明
----

groonga組込コマンドの一つであるclearlockについて説明します。組込コマンドは、groonga実行ファイルの引数、標準入力、またはソケット経由でgroongaサーバにリクエストを送信することによって実行します。

clearlockは、対象となるオブジェクト(データベース,テーブル,インデックス等)を指定し、オブジェクトにかけられたロックを再帰的に解除します。

引数
----

``objname``

  対象となるオブジェクト名を指定します。空の場合、開いているdbオブジェクトが対象となります。

``output_type``

  出力形式を、json,tsv,xmlのいずれかで指定します。

``id``

  レコードIDによってレコードを指定します。idパラメータを指定する場合は、keyパラメータを指定してはいけません。 [#]_

返値
---

以下のようなjson形式で値が返却されます。 [#]_

::

 [リターンコード, 処理開始時間, 処理時間]

``リターンコード``

  grn_rcに対応する数値が返されます。0(GRN_SUCCESS)以外の場合は、続いてエラー内容を示す
  文字列が返されます。

``処理開始時間``

  処理を開始した時間について、1970年1月1日0時0分0秒を起点とした秒数を小数で返します。

``処理時間``

  処理にかかった秒数を返します。

例
--

開いているデータベースのロックをすべて解除する

 clearlock

 [[0,1276673270.12593,2.5e-05]]


テーブル名 Entry のカラム body のロックを解除する

 clearlock Entry.body

 [[0,1276673437.30953,5.0e-06]]


関連項目
--------

:doc:`load`

.. [#] output_columnsでのgrn式指定はv1.0でサポートされます。
.. [#] idパラメータはv1.0でサポートされます。
.. [#] tsv,xml出力はv1.0でサポートされます。また、処理開始時間・処理時間については正確でない場合があります。
